# Resource: vmnameregistry_vmname

Manages a VM name in the registry via the API. This resource allows you to create, update, and delete VM names for a given environment and location. The VM name is generated by the API and exported as an attribute.

## Example Usage

```hcl
resource "vmnameregistry_vmname" "example" {
  environment       = "dev"
  location          = "uksouth"
  business_unit     = "engineering"
  status            = "Deployed" # Optional, defaults to "Deployed"
  delete_on_destroy = false      # Optional, defaults to false
}

output "vm_name" {
  value = vmnameregistry_vmname.example.vm_name
}
```

## Arguments

- `environment` (Required) – The environment for the VM name (e.g., dev, prod, preprod, devtest).
- `location` (Required) – The Azure region/location for the VM name (e.g., uksouth).
- `business_unit` (Required) – The business unit for the VM name.
- `status` (Optional) – The status of the VM name. Allowed values: `Deployed`, `Reserved`, `Available`. Defaults to `Deployed`.
- `delete_on_destroy` (Optional) – If `true`, permanently delete the VM name record when the resource is destroyed. If `false` (default), mark the VM name as `Reserved` instead of deleting it.

## Attributes Exported

- `vm_name` – The generated VM name returned by the API.
- `id` – The resource ID (same as `vm_name`).

## Import

Existing VM names can be imported using the format `environment/vm_name`:

```bash
terraform import vmnameregistry_vmname.example dev/lcpdevuks-0001
```

The import process will:
1. Set the VM name and environment from the import ID
2. Extract the location from the VM name pattern
3. Fetch the status and business unit from the API
